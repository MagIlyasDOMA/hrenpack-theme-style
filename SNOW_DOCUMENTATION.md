# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Snow Manager

## –û–±–∑–æ—Ä

–ö–ª–∞—Å—Å `SnowManager` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±–µ—Ä—Ç–∫—É –≤–æ–∫—Ä—É–≥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `magic-snowflakes` —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞—É–∑–∞/–≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ–º–∞–º–∏ –∏ –ø—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```html
<!-- –ë–∞–∑–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ -->
<script src="node_modules/hrenpack-theme-style/dist/snow.js"></script>

<!-- –° –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —á–µ—Ä–µ–∑ data-–∞—Ç—Ä–∏–±—É—Ç—ã -->
<script
        src="node_modules/hrenpack-theme-style/dist/snow.js"
        data-count="100"
        data-color="#ffffff"
        data-min-size="5"
        data-max-size="15"
        data-speed="2"
        data-rotation
        data-z-index="9999">
</script>
```
> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–±–µ–∑ `async`/`defer`).

### –í–∞—Ä–∏–∞–Ω—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
```html
<script src="snow.js" data-count="100"></script>
```

**–†—É—á–Ω–∞—è (—Å data-no-init):**
```html
<script src="snow.js" data-no-init></script>
<script>
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
window.snowManager = new SnowManager({
    count: 100,
    color: '#ffffff'
});
</script>
```

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API
### –ö–ª–∞—Å—Å SnowManager
#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
```typescript
new SnowManager(options?: SnowOptions)
```

#### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã
- `fromScriptDataset()` - –°–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –∏–∑ data-–∞—Ç—Ä–∏–±—É—Ç–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–∞ script

#### –ú–µ—Ç–æ–¥—ã —ç–∫–∑–µ–º–ø–ª—è—Ä–∞

- `pause()` - –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é —Å–Ω–µ–≥–æ–ø–∞–¥–∞
- `play()` - –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é —Å–Ω–µ–≥–æ–ø–∞–¥–∞
- `toggle()` - –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–≤–∫–ª/–≤—ã–∫–ª)
- `destroy()` - –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—è–µ—Ç —Å–Ω–µ–≥–æ–ø–∞–¥ –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã

> **üîÑ –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —á–µ—Ä–µ–∑ —Å–µ—Ç—Ç–µ—Ä –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ–ª–Ω–æ–º—É –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—é —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Snowflakes.

#### –°–≤–æ–π—Å—Ç–≤–∞
–í—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ —è–≤–ª—è—é—Ç—Å—è –≥–µ—Ç—Ç–µ—Ä–∞–º–∏/—Å–µ—Ç—Ç–µ—Ä–∞–º–∏, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å –±–∞–∑–æ–≤—ã–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º **snowflake**:
- `count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–Ω–µ–∂–∏–Ω–æ–∫
- `color` - –¶–≤–µ—Ç —Å–Ω–µ–∂–∏–Ω–æ–∫
- `minOpacity`, `maxOpacity` - –î–∏–∞–ø–∞–∑–æ–Ω –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
- `minSize`, `maxSize` - –î–∏–∞–ø–∞–∑–æ–Ω —Ä–∞–∑–º–µ—Ä–æ–≤
- `speed` - –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–∞–¥–µ–Ω–∏—è
- `rotation` - –í–∫–ª—é—á–∏—Ç—å –≤—Ä–∞—â–µ–Ω–∏–µ
- `wind` - –í–∫–ª—é—á–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –≤–µ—Ç—Ä–∞
- `zIndex` - CSS z-index

## –°–æ–±—ã—Ç–∏—è
–°–Ω–µ–≥–æ–ø–∞–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞:
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (visibilitychange)
- –°–æ–±—ã—Ç–∏—è —Ñ–æ–∫—É—Å–∞/—Ä–∞–∑–º—ã—Ç–∏—è –æ–∫–Ω–∞
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã (—á–µ—Ä–µ–∑ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ `snow.params`
2. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
3. –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `snow.destroy()`
4. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `new Snowflakes(newConfig)`

### –¶–∏–∫–ª –∂–∏–∑–Ω–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞/–í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Üí –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ

### Data-–∞—Ç—Ä–∏–±—É—Ç—ã vs –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
| –°–ø–æ—Å–æ–±          | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã                                            | –í—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è       |
|-----------------|------------------------------------------------------|------------------------|
| Data-–∞—Ç—Ä–∏–±—É—Ç—ã   | count, color, size, opacity, speed, rotation, zIndex | –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã  |
| –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ API | –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤–∫–ª—é—á–∞—è wind, autoResize, container   | –í –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ |


## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ               | –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å          |
|--------------|--------------------------------------|----------------------------------------|
| `count`      | ‚â§ 150 –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ, ‚â§ 80 –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö | –ü—Ä—è–º–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –Ω–∞–≥—Ä—É–∑–∫–µ         |
| `types`      | 3-6                                  | –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏         |
| `speed`      | 1-3                                  | –í–ª–∏—è–µ—Ç –Ω–∞ —á–∞—Å—Ç–æ—Ç—É –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏          |
| `autoResize` | `true`                               | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Ä–µ—Å–∞–π–∑–µ |

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞—É–∑–∞:** –ü—Ä–∏ —Å–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏ –∏–ª–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞
- **Smart rendering:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ
- **–†–µ—Å–∞–π–∑:** –ü—Ä–∏ `autoResize=true` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ä–∞–∑–º–µ—Ä—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **–ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
- **–ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–º–µ–Ω—å—à–∞—Ç—å `count` –∏ `maxSize`
- **–°—Ç–∞—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã:** –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ Internet Explorer –∏ Legacy Edge

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
console.log(snowManager.count); // 50
console.log(snowManager.color); // "#5ecdef"

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
snowManager.count = 100;
snowManager.speed = 2;
snowManager.color = "#ff0000";

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
snowManager.pause();
setTimeout(() => snowManager.play(), 5000);
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
```html
<div class="snow-controls">
    <button onclick="snowManager.toggle()">–í–∫–ª/–í—ã–∫–ª</button>
    <input type="range" min="1" max="200" 
           oninput="snowManager.count = this.value">
    <input type="color" 
           onchange="snowManager.color = this.value">
</div>
```

## –û—Ç–ª–∞–¥–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏
1. **`document.currentScript is null`**
    - **–ü—Ä–∏—á–∏–Ω–∞:** –°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
    - **–†–µ—à–µ–Ω–∏–µ:** –£–±–µ—Ä–∏—Ç–µ –∞—Ç—Ä–∏–±—É—Ç—ã `async`/`defer`
2. **–í—ã—Å–æ–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¶–ü**
    - **–†–µ—à–µ–Ω–∏–µ:** –£–º–µ–Ω—å—à–∏—Ç–µ `count` –∏/–∏–ª–∏ `speed`

## –ö–æ–Ω—Å–æ–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
console.log(snowManager.isActive); // true/false
console.log(snowManager.snow?.params); // –¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
snowManager.destroy();
snowManager = new SnowManager({ count: 50, color: '#fff' });
```
